<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-input/paper-input.html">
<link rel="import" href="imports.html">

<dom-module id="ros-rviz-options">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style>
    </style>
    <paper-input label="Websocket URL" value="{{url}}" on-blur="_updateGlobalOptions"></paper-input>
    <paper-input label="Web video server URL" value="{{videoServer}}" on-blur="_updateGlobalOptions"></paper-input>
  </template>
  <script>
    Polymer({
      is: 'ros-rviz-options',

      properties: {
        globalOptions: {
          type: Object,
          notify: true,
        },
        name: {
          type: String,
          value: 'Options',
        },

        // We have our own copies of the global properties so we have control over
        // when they are updated to the outside world.
        url: String,
        videoServer: String,
      },

      attached: function() {
        this.url = this.globalOptions.url;
        this.videoServer = this.globalOptions.videoServer;
      },

      addToViewer: function() {
        // Nothing to do.
      },

      deleteDisplay: function() {
        // Nothing to delete.
      },

      updateDisplay: function(viewer, ros, tfClient, callback) {
        // Options do not display anything.
      },

      removeFromViewer: function() {
        // Nothing to do.
      },

      _updateGlobalOptions: function() {
        this.set('globalOptions.url', this.url);
        this.set('globalOptions.videoServer', this.videoServer);
      },
    });
  </script>
</dom-module>
